(this["webpackJsonpdashboard-app"]=this["webpackJsonpdashboard-app"]||[]).push([[0],{15:function(t,e,a){t.exports={card:"Login_card__3PVuZ",container:"Login_container__OmQAf"}},37:function(t,e,a){},60:function(t,e,a){"use strict";a.r(e);var n=a(1),c=a(0),o=a.n(c),s=a(29),i=a.n(s),r=(a(37),a(11)),d=a(2),l=a(19),u=a(6),j=a(15),b=a.n(j),h=a(8),p=a.n(h);function O(t){var e=Object(c.useState)(""),a=Object(u.a)(e,2),o=a[0],s=a[1],i=Object(c.useState)(""),r=Object(u.a)(i,2),j=r[0],h=r[1],O=Object(d.f)();return Object(n.jsx)("div",{className:b.a.card,children:Object(n.jsxs)("div",{className:b.a.container,children:[Object(n.jsx)("h3",{children:"Login"}),Object(n.jsx)("input",{type:"text",value:o,onChange:function(t){return s(t.target.value)},placeholder:"ID"}),Object(n.jsx)("input",{type:"text",value:j,onChange:function(t){return h(t.target.value)},placeholder:"Name"}),Object(n.jsx)("button",{onClick:function(){p.a.post("".concat("https://dev.teledirectasia.com:3092","/login"),{name:j,apiKey:o}).then((function(t){var e=Object(l.a)(Object(l.a)({},t.data),{},{name:t.data.token.name,token:t.data.token.token});sessionStorage.setItem("loginSession",JSON.stringify(e)),O.push("/dashboard"),alert(t.data.msg)})).catch((function(t){alert(t.response.data.msg)}))},children:"Login!"})]})})}var m=a(31),f=a(7),x=a.n(f);function g(){var t=Object(c.useState)({}),e=Object(u.a)(t,2),a=e[0],o=e[1],s=Object(c.useState)(""),i=Object(u.a)(s,2),r=i[0],l=i[1],j=Object(c.useState)(""),b=Object(u.a)(j,2),h=b[0],O=b[1],f=Object(c.useState)(""),g=Object(u.a)(f,2),v=g[0],_=g[1],k=Object(c.useState)([]),D=Object(u.a)(k,2),N=D[0],S=D[1],C=Object(d.f)();Object(c.useEffect)((function(){var t=sessionStorage.getItem("loginSession"),e={parsedData:JSON.parse(t)};o(e.parsedData.image),l(e.parsedData.name),O(e.parsedData.token)}),[]);var L=function(t){var e=t.task,a=t.index;return Object(n.jsxs)("div",{className:x.a.todos,style:{textDecoration:e.completed?"line-through":""},children:[e.name,Object(n.jsx)("button",{className:x.a.complete,onClick:function(){return function(t){p.a.put("".concat("https://dev.teledirectasia.com:3092","/tasks/").concat(N[t]._id),{name:N[t].name,completed:!0},{headers:{Authorization:"Bearer ".concat(h)}}).then((function(e){var a=e.data,n=N;S([]),n[t]=a.task,S(n)}))}(a)},children:"Complete"}),Object(n.jsx)("button",{className:x.a.delete,onClick:function(){return function(t){p.a.delete("".concat("https://dev.teledirectasia.com:3092","/tasks/").concat(N[t]._id),{data:{name:N[t].name},headers:{Authorization:"Bearer ".concat(h)}}).then((function(e){var a=e.data,n=N;S([]),n[t]=a.task,n.splice(t,1),S(n)}))}(a)},children:"Delete"})]})};return Object(n.jsxs)("div",{children:[Object(n.jsx)("img",{className:x.a.profilePic,src:"https://dev.teledirectasia.com:3092".concat(a),alt:"Profile Pic"}),Object(n.jsx)("button",{className:x.a.logout,onClick:function(){C.push("/")},children:"Logout"}),Object(n.jsxs)("h4",{children:['Welcome "',r,'"']}),Object(n.jsx)("h2",{children:"Dashboard"}),Object(n.jsx)("input",{type:"text",placeholder:"Task Name...",value:v,onChange:function(t){_(t.target.value)}}),Object(n.jsx)("button",{onClick:function(){p.a.post("".concat("https://dev.teledirectasia.com:3092","/tasks"),{name:v},{headers:{Authorization:"Bearer ".concat(h)}}).then((function(t){var e=t.data.task,a=[].concat(Object(m.a)(N),[e]);S(a)}))},children:"+ New Task"}),Object(n.jsx)("div",{className:x.a.todoList,children:N.map((function(t,e){return Object(n.jsx)(L,{index:e,task:t},e)}))})]})}function v(){return Object(n.jsx)(o.a.Fragment,{children:Object(n.jsx)(r.a,{children:Object(n.jsxs)(d.c,{children:[Object(n.jsx)(d.a,{exact:!0,path:"/",component:O}),Object(n.jsx)(d.a,{path:"/dashboard",component:g})]})})})}function _(){return Object(n.jsx)(o.a.Fragment,{children:Object(n.jsx)(v,{})})}var k=function(t){t&&t instanceof Function&&a.e(3).then(a.bind(null,61)).then((function(e){var a=e.getCLS,n=e.getFID,c=e.getFCP,o=e.getLCP,s=e.getTTFB;a(t),n(t),c(t),o(t),s(t)}))};i.a.render(Object(n.jsx)(o.a.StrictMode,{children:Object(n.jsx)(_,{})}),document.getElementById("root")),k()},7:function(t,e,a){t.exports={profilePic:"Dashboard_profilePic__3IgPK",logout:"Dashboard_logout__2faNw",todoList:"Dashboard_todoList__15Qf9",todos:"Dashboard_todos__ot1-3",delete:"Dashboard_delete__2xR_B",complete:"Dashboard_complete__3_Nfp"}}},[[60,1,2]]]);
//# sourceMappingURL=main.cdff8f14.chunk.js.map